
# these commands only apply  using minikube and locall machine.

minikube start --vm-driver=virtualbox
minikube dashboard
minikube stop
minikube delete #if thinks are messed up.

set JAVA_HOME=C:\Program Files\Java\jdk-8u152-windows-x64
set M2_HOME=E:\work\software\apache-maven-3.5.2
set MAVEN_HOME=E:\work\software\apache-maven-3.5.2
set PATH=%PATH%;%M2_HOME%\bin

mvn -DskipTests package

docker login --username=dockeridiotfool 

#Open Docker CLI from kinematic
cd C:/dennis/todo/Containers/spring-boot-example
# works, this creates an image inside the 'default' virtual box
# this is to be done in docker terminal
docker build -t spring-boot-dennis .
cd C:\dennis\work\Cloud\applications\spring-boot-example2
docker build -t spring-boot-dennis2 .


docker tag 7c66c0f20bfb dockeridiotfool/spring-boot-dennis
docker push dockeridiotfool/spring-boot-dennis

docker tag 7c66c0f20bfb dockeridiotfool/spring-boot-dennis2
docker push dockeridiotfool/spring-boot-dennis2

docker images

#remove docker image, use first 3 chars of image tag , - f stands for force remove.
docker rmi <first3charOfImage> -f
docker image rm <first3charOfImage> # this has the same effect as the previous line.

kubectl delete deploy  dennisdeployment
kubectl delete service dennisexposedservice
kubectl delete service dennisservice
kubectl delete deploy  dennisdeployment2
kubectl delete service dennisexposedservice2
kubectl delete service dennisservice2

kubectl delete -f loadbalancerLocal.yaml
kubectl delete -f loadbalancerLocal2.yaml

kubectl create -f loadbalancerLocal.yaml
kubectl create -f loadbalancerLocal2.yaml
kubectl get services
Note that the above command will show EXTERNAL-IP   as pending if minikube is used.

On cloud providers that support load balancers, an external IP address would be provisioned to access the Service. On Minikube, the LoadBalancer type makes the Service accessible through the minikube service command.
Run the following command ( this command does not show the desired result)
minikube service dennisservice

#As a work around try this:  there are bugs: Just edit the config dennisdeployment in the minikube dashboard _after_ exposing the deployment and save
kubectl expose deployment dennisdeployment --type=LoadBalancer --port=8084 --target-port 8080 --name=dennisexposedservice

# notice now there is new service created by name dennisexposedservice
minikube service dennisexposedservice